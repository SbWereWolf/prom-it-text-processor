# "Текстовый процессор" - тестовое задание от Пром-ИТ по вакансии разработчик  

# Установка
Клонировать репозиторий

Установить (восстановить) пакеты NuGet

Для проектов ``ConsoleServer`` и ``text-processor`` обязательно установить: ``Install-Package System.Data.SQLite``

Открыть решение text-processor.sln

В настройках проекта text-processor записать в параметр "DataPath" путь к файлу базы данных

Выполнить команду "собрать решение" (Visual Studio, в других IDE может быть другое название)

Консольные приложения готовы к работе

# Назначение файлов
Файл words.txt содержит "словарь" слов для автодополения

Файл words-changes.txt содержит обновление для словаря

Файл text-processor/autocompletion.sqlite содержит базу данных приложения

Файлы добавлены в качестве примера

# Работа с консольным приложением text-processor

Приложение обрабатывает четыре типа команд

## 1 Команда установки словаря
```mount-from "words.txt"```

Команда задаётся в качестве параметра при запуске приложения

Будут созданы таблицы базы данных:
  - исходные данные - ``file_line``
  - словарь - ``autocompletion``
  - буфер обновления - ``new_data``
  
  Данные из файла "words.txt" будут записаны в ``file_line``, обработанные данные будут записаны в ``autocompletion``  

## 2 Команда обновления    
```update-from "words-changes.txt"```

Команда задаётся в качестве параметра при запуске приложения

Данные из файла "words-changes.txt" будут записаны в таблицу ``new_data``
 
После обработки данных в словарь будут добавлены слова которых не было в словаре и 
для которых частота "употребления" больше или равна 3

Для слов которые уже есть в словаре будут установлены новые значения частоты - колонка "count"   

## 3 Команда удаления    
```unmount-all```

Команда задаётся в качестве параметра при запуске приложения

Будут удалены таблицы базы данных:
  - ``file_line``
  - ``autocompletion``
  - ``new_data``
  
## 4 Команда подбора автодополнения

Команда выполняется по произвольному вводу

Если введённая строка символов содержит больше двух символов, то происходит подбор возможных вариантов 
из таблицы ``autocompletion``

Если ввести пустую строку, то приложение закроется, если в произвольных момент времени нажать Esc, 
то приложение закроется

Если будет введён один или два символа, то произойдёт переход на новую строку, без подбора вариантов

# Работа с клиент серверной системой автодополнения

Запустить сервер - консольное приложение ``ConsoleServer``

При запуске необходимо задать два аргумента:
 - первый аргумент это порт на который будут приниматься соединения
 - второй аргумент это путь до файла SQLite базы данных
 
Пример: 
```
ConsoleServer.exe 8888 "E:\WORK\text-processor\autocompletion.sqlite"
```
Настройка словаря для автодополнений выполняется аналогично настройке приложения ``text-processor``

Сервер обрабатывает только клиентские запросы, непосредственного ввода запросов для автодополнения 
сервер не поддерживает

Для использования функционала автодополнения необходимо запустить клиентское приложение - ``ConsoleClient``

При запуске необходимо задать два аргумента:
 - первый аргумент это порт через который будет установленно соединение с сервером
 - второй аргумент это ip адрес сервера автодополнений
 
Пример: 
```
ConsoleClient.exe 8888 127.0.0.1"
```
Приложение по вводу с клавиатуры делает запрос вариантов автодополнения на сервере 
и выдаёт найденные варианты в консоль

Для прекращения работы с клиентским приложением необходимо ввести пустую строку - нажать кнопку Ввод (Enter)

Для прекращения работы серверного приложений необходимо нажать кнопку Выход (Esc)

# Контакты
```
Вольхин Николай
e-mail ulfnew@gmail.com
phone +7-902-272-65-35
```
